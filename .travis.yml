# Configuration file for Travis CI (https://travis-ci.org)
#
# It used to create a redistributable, standalone and printable PDF
# version of a specification document written in markdown (3MF-style).

dist: xenial
language: python
python: 3.7

install:
  - pip install grip
  - ./install_wkhtmltopdf.sh
  # potentially use this instead: https://gitlab.com/OleMussmann/marge

script:
  - ./mdToPDF.sh "3MF Core Specification"
  
deploy:
  provider: releases 
  api_key: '$GITHUB_API_KEY'
  file: "3MF Core Specification.pdf"
  skip_cleanup: true
  draft: true
  name: "Snapshot"
  body: "This is an autogenerated PDF version of the current markdown specification document in this repository."
  prerelease: true
